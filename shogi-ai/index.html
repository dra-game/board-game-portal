<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Board Game Portal</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <nav class="main-nav">
      <button class="tab-btn active" onclick="showSection('top-page')">ゲーム選択</button>
      <button class="tab-btn" onclick="showSection('manual-page')">取扱説明書</button>
    </nav>
  </header>

  <main>
    <section id="top-page" class="view-section active">
      <div class="portal-header">
        <h1>Board Game Portal</h1>
        <p>遊びたいゲームを選択してください</p>
      </div>

      <div class="game-selection-area">
        <div class="game-card">
          <img src="assets/shogi_icon.png" alt="将棋の駒" class="game-icon">
          <h2>5x5 将棋</h2>
          <p>AIと対戦するミニ将棋です。</p>
          <div class="difficulty-select">
            <p class="select-label">難易度を選択</p>
            <div class="difficulty-selector">
              <input type="radio" id="shogi-easy" name="shogi-diff" value="easy">
              <label for="shogi-easy">初級</label>
              <input type="radio" id="shogi-normal" name="shogi-diff" value="normal" checked>
              <label for="shogi-normal">中級</label>
              <input type="radio" id="shogi-hard" name="shogi-diff" value="hard">
              <label for="shogi-hard">上級</label>
            </div>  
          </div>
          <button class="start-btn" onclick="goToShogi()">対局室へ進む</button>
        </div>

        <div class="game-card">
          <img src="assets/reversi_icon.png" alt="リバーシ" class="game-icon">
          <h2>リバーシ</h2>
          <p>本格写真素材を使用したリバーシです。</p>
          <div class="difficulty-select">
            <p class="select-label">難易度を選択</p>
            <div class="difficulty-selector">
              <input type="radio" id="reversi-easy" name="reversi-diff" value="easy">
              <label for="reversi-easy">初級</label>
              <input type="radio" id="reversi-normal" name="reversi-diff" value="normal" checked>
              <label for="reversi-normal">中級</label>
              <input type="radio" id="reversi-hard" name="reversi-diff" value="hard">
              <label for="reversi-hard">上級</label>
            </div>  
          </div>
          <button class="start-btn" onclick="goToReversi()">対局室へ進む</button>
        </div>

        <div class="game-card">
          <img src="assets/chess_icon.png" alt="チェス" class="game-icon">
          <h2>チェス</h2>
          <p>AIと対戦する8x8のチェスゲームです。</p>
          <div class="difficulty-select">
            <p class="select-label">難易度を選択</p>
            <div class="difficulty-selector">
              <input type="radio" id="chess-easy" name="chess-diff" value="easy">
              <label for="chess-easy">初級</label>
              <input type="radio" id="chess-normal" name="chess-diff" value="normal" checked>
              <label for="chess-normal">中級</label>
              <input type="radio" id="chess-hard" name="chess-diff" value="hard">
              <label for="chess-hard">上級</label>
            </div>  
          </div>
          <button class="start-btn" onclick="goToChess()">対局室へ進む</button>
        </div>
      </div>
    </section>

    <section id="manual-page" class="view-section">
      <div class="manual-container">
        <div class="game-card manual-card" style="width: 90%; max-width: 800px; margin: 20px auto; text-align: left;">
          <h2>取扱説明書・利用規約</h2>
          <div class="manual-content">
            <h3>5x5 将棋（ミニ将棋）ルール</h3>
            <ul>
              <li>勝利条件：相手の「王」を先に捕まえた（詰ませた）方の勝ちです。</li>
              <li>駒の動き：王・金・銀ともに、本将棋と同じ動きをします。</li>
              <li>持ち駒：取った駒は自分の手番で好きな空きマスに打てます。</li>
            </ul>
            <h3>リバーシ ルール</h3>
            <ul>
              <li>基本：相手の石を自分の石で挟んで自分の色に変えます。</li>
              <li>勝利条件：最終的に盤面の石の数が多い方の勝ちです。</li>
            </ul>
            <h3>チェス ルール</h3>
            <ul>
              <li>勝利条件：相手の「キング」を追い詰めて逃げ場をなくす（チェックメイト）と勝利です。</li>
              <li>基本：将棋と異なり、取った駒を再利用（持ち駒）することはできません。</li>
              <li>プロモーション：ポーンが一番奥の列に達すると、クイーンなどの強力な駒に昇格します。</li>
            </ul>
          </div>
        </div> </div>
    </section>
  </main>

  <script>
    function showSection(sectionId) {
      document.querySelectorAll('.view-section').forEach(section => {
        section.classList.toggle('active', section.id === sectionId);
      });
      document.querySelectorAll('.tab-btn').forEach(btn => {
        const isActive = btn.getAttribute('onclick').includes(sectionId);
        btn.classList.toggle('active', isActive);
      });
    }

    function goToShogi() {
      // name="shogi-diff" の中から選択されているものを探す
      const selectedDiff = document.querySelector('input[name="shogi-diff"]:checked').value;
      window.location.href = `shogi/shogi.html?diff=${selectedDiff}`;
    }

    function goToReversi() {
      // name="reversi-diff" の中から選択されているものを探す
      const selectedDiff = document.querySelector('input[name="reversi-diff"]:checked').value;
      window.location.href = `reversi/reversi.html?diff=${selectedDiff}`;
    }

    function goToChess() {
      // name="chess-diff" の中から選択されているものを取得
      const selectedDiff = document.querySelector('input[name="chess-diff"]:checked').value;
      // パラメータを付与してチェス画面へ遷移
      window.location.href = `chess/chess.html?diff=${selectedDiff}`;
    }

    window.onload = () => showSection('top-page');
  </script>
</body>
</html>